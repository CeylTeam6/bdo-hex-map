<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>BDO Hex Map</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Cinzel', serif;
      overflow: hidden;
    }

    #hexMap {
      display: block;
    }

    #tooltip, #lordPanel {
      position: absolute;
      background: rgba(255, 255, 255, 0.9);
      border: 2px solid #444;
      border-radius: 8px;
      padding: 10px;
      z-index: 10;
      font-family: 'Cinzel', serif;
      max-width: 220px;
    }

    #lordPanel {
      width: 220px;
    }

    #lordPanel video {
      width: 100%;
      border-radius: 6px;
      margin-bottom: 6px;
    }

    #orderPrompt, #registerPrompt {
      position: absolute;
      bottom: 80px;
      left: 10px;
      background: rgba(255,255,255,0.95);
      padding: 10px;
      border: 2px solid #333;
      border-radius: 6px;
      z-index: 5;
    }

    #adminChat {
      position: absolute;
      bottom: 0;
      right: 0;
      width: 300px;
      height: 200px;
      background: rgba(0,0,0,0.8);
      color: white;
      overflow-y: auto;
      padding: 10px;
      font-family: 'Cinzel', serif;
    }

    #orderControls {
      position: absolute;
      bottom: 0;
      left: 0;
      background: rgba(255,255,255,0.9);
      padding: 10px;
      z-index: 4;
      display: flex;
      gap: 5px;
      flex-wrap: wrap;
      font-family: 'Cinzel', serif;
    }

    #orderList {
      list-style: none;
      padding-left: 10px;
    }

    input, button {
      font-family: 'Cinzel', serif;
    }
  </style>
</head>
<body>
  <canvas id="hexMap"></canvas>

  <div id="tooltip" style="display:none;"></div>
  <div id="lordPanel" style="display:none;">
    <video id="lordVideo" autoplay muted loop></video>
    <div><strong id="lordName"></strong></div>
    <div id="lordInfo"></div>
  </div>

  <div id="orderPrompt" style="display:none;">
    <label>Noble House: <input id="nobleHouseInput"></label><br>
    <label>Target: <input id="targetInput"></label><br>
    <button onclick="confirmOrder()">Submit</button>
    <button onclick="cancelOrder()">Cancel</button>
  </div>

  <div id="registerPrompt" style="display:none;">
    <label>Family Name: <input id="familyNameInput"></label><br>
    <label>Domain: <input id="domainInput"></label><br>
    <label>Heraldry: <input id="heraldryInput"></label><br>
    <button onclick="confirmRegistration()">Register</button>
    <button onclick="cancelRegistration()">Cancel</button>
  </div>

  <div id="orderControls">
    <button onclick="submitOrder('attack')">⚔️ Attack</button>
    <button onclick="submitOrder('defense')">🛡️ Defense</button>
    <button onclick="submitOrder('economy')">📈 Bolster Economy</button>
    <button onclick="submitOrder('spy')">🕵️ Spy</button>
    <button onclick="submitOrder('sabotage')">💣 Sabotage</button>
    <button onclick="submitOrder('diplomacy')">🕊️ Diplomacy</button>
    <button onclick="registerNobleHouse()">🏰 Register House</button>
  </div>

  <div id="adminChat" style="display:none;">
    <input id="email" placeholder="Email"><br>
    <input id="password" type="password" placeholder="Password"><br>
    <button onclick="login()">Login</button>
    <button onclick="logout()">Logout</button>
    <ul id="orderList"></ul>
    <button onclick="clearOrders()">Clear Orders</button>
  </div>

  <script type="module" src="hex-map-script.js"></script>
</body>
</html>
